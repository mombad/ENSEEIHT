package fenetre;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

import javax.swing.*;
import java.awt.*;
import java.util.ArrayList;
import java.util.List;

import territoires.*;

public class FenetreJeu {
	
	// test de l'interface avec une initialisation simplifiée du jeu.
	//initialisation
	String texteTerritoire1 = "";
	String texteTerritoire2 = "";
	String texteTerritoire3 = "";
	Les_territoires liste_t = new Les_territoires();
	List <Territoire_test> voisins_t1 = new ArrayList<Territoire_test>();
	List <Territoire_test> voisins_t2 = new ArrayList<Territoire_test>();
	List <Territoire_test> voisins_t3 = new ArrayList<Territoire_test>();
	Territoire_test t1 = new Territoire_test(100,1000,1,false,"Territoire_test 1",voisins_t1);
	Territoire_test t2 = new Territoire_test(500,5000,2,false, "Territoire_test 2",voisins_t2);
	Territoire_test t3 = new Territoire_test(2000,20000,3,true, "Territoire_test 3",voisins_t3);
	
	public FenetreJeu(){
		//Construction des voisins
		voisins_t1.add(t2);
		voisins_t1.add(t3);
		voisins_t2.add(t1);
		voisins_t2.add(t3);
		voisins_t3.add(t1);
		voisins_t3.add(t2);
		
		//initialisation des labels
		JLabel label1 = new JLabel("");
		JLabel label2= new JLabel("");
		JLabel label3= new JLabel("");
		JLabel label4= new JLabel("");
		JLabel label5= new JLabel("");
		JLabel label6= new JLabel("");
		JLabel label7= new JLabel("");
		
		//ajout des territoires dans une liste
		liste_t.add_territoire(t1);
		liste_t.add_territoire(t2);
		liste_t.add_territoire(t3);
		
		//initialisation des boutons
		JButton attaquer;
		JButton deplacer;
		JButton recruter;

		//création et parametrage de la fenétre
		JFrame fenetre = new JFrame("RISK.exe");
		Container contenu = fenetre.getContentPane();
		contenu.setLayout(new BorderLayout());
		fenetre.setTitle("Java-Risk");
		fenetre.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		fenetre.setLocationRelativeTo(null);
		fenetre.setPreferredSize(new Dimension(500, 500));
		
		//texte informatif sur la liste des territoires
		JPanel info_jeu = new JPanel(new BorderLayout());
		JPanel listeTerritoire = new JPanel(new GridLayout(4,1));
		JLabel Instruction1 = new JLabel("Liste des territoires : ");
		JLabel territoire1 = new JLabel("Territoire_test 1 : occupée par ..." + texteTerritoire1);
		JLabel territoire2 = new JLabel("Territoire_test 2 : occupée par ..." + texteTerritoire2);
		JLabel territoire3 = new JLabel("Territoire_test 3 : occupée par ..." + texteTerritoire3);
		listeTerritoire.add(Instruction1);
		listeTerritoire.add(territoire1);
		listeTerritoire.add(territoire2);
		listeTerritoire.add(territoire3);
		
		//texte qui informe sur l'or et le temps 
		JPanel or_et_temps = new JPanel(new GridLayout(3,1));
		or_et_temps.add(new JLabel("Or : 10000"));
		or_et_temps.add(new JLabel("temps écoulé : 20s"));
		JButton ameliorer = new JButton("Améliorer");
		or_et_temps.add(ameliorer);
		ameliorer.addActionListener(new ActionAmeliorer());
		info_jeu.add(listeTerritoire,BorderLayout.WEST);
		info_jeu.add(or_et_temps,BorderLayout.EAST);
		contenu.add(info_jeu,BorderLayout.NORTH);
		
		//Selection d'un Territoire_test
		JPanel SelectionTerritoire = new JPanel(new GridLayout(3,1));
		JLabel Instruction2 = new JLabel("Selection d'un Territoire_test");
		JScrollPane scrollPane = new JScrollPane();
		JList  liste_selection = new JList(liste_t.les_noms_t.toArray());
		scrollPane.setViewportView(liste_selection);
		liste_selection.setLayoutOrientation(JList.VERTICAL);
		SelectionTerritoire.add(Instruction2);
		SelectionTerritoire.add(scrollPane);
		contenu.add(SelectionTerritoire, BorderLayout.WEST);
		
		//info sur le Territoire_test selectionné et liste des actions possibles 
		JPanel Info_Action= new JPanel(new BorderLayout());
		JPanel Info = new JPanel(new GridLayout(7,1));
		Info.add(label1);
		Info.add(label2);
		Info.add(label3);
		Info.add(label4);
		Info.add(label5);
		Info.add(label6);
		Info.add(label7);
		Info_Action.add(Info,BorderLayout.WEST);
		JPanel action = new JPanel(new GridLayout(4,1));
		
		//mise en place des boutons
		attaquer = new JButton("Attaquer");
		attaquer.setEnabled(false);;
		deplacer = new JButton("déplacer");
		deplacer.setEnabled(false);
	
		recruter = new JButton("recruter");
		recruter.setEnabled(false);
		recruter.addActionListener(new ActionRecruter());
		action.add(new JLabel("Vous possédez ce Territoire_test"));
		action.add(recruter);
		action.add(attaquer);
		
		action.add(deplacer);
		Info_Action.add(action,BorderLayout.EAST);
		contenu.add(Info_Action,BorderLayout.SOUTH);
		JlistListener list = new JlistListener(liste_selection,liste_t,contenu,label1,label2,label3,label4,label5,label6,label7,attaquer,deplacer,recruter,ameliorer);
		liste_selection.addListSelectionListener(list);
		attaquer.addActionListener(new ActionAttaquer(list));
		deplacer.addActionListener(new ActionDeplacer(list));
		ameliorer.setEnabled(false);
		
		
		
		
		
		//autres parametrages de la fenêtre 
		fenetre.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	  	fenetre.pack();
	  	fenetre.setVisible(true);
	  	fenetre.toFront();
		
		
		
		
	}
	
	
	public static void main(String[] args) {
		new FenetreJeu();
	}
	
}
